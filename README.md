# Beancount CLI

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„beancountè®°è´¦å‘½ä»¤è¡Œå·¥å…·ï¼Œæä¾›å‹å¥½çš„äº¤äº’ç•Œé¢å’Œå®Œæ•´çš„beancountæ“ä½œåŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¦ **è´¦æˆ·ç®¡ç†**: æŸ¥çœ‹æ‰€æœ‰è´¦æˆ·ä¿¡æ¯
- ğŸ“ **äº¤æ˜“è®°å½•**: æ·»åŠ ã€æŸ¥çœ‹ã€åˆ é™¤äº¤æ˜“è®°å½•
- ğŸ’° **ä½™é¢æŸ¥è¯¢**: å®æ—¶æŸ¥çœ‹è´¦æˆ·ä½™é¢
- ğŸ’ **å‡€èµ„äº§**: æŸ¥çœ‹å‡€èµ„äº§ä¿¡æ¯
- ğŸ“Š **æŠ¥è¡¨ç”Ÿæˆ**: ç”ŸæˆæŸç›Šè¡¨å’Œèµ„äº§è´Ÿå€ºè¡¨
- âœ… **æ•°æ®éªŒè¯**: éªŒè¯beancountæ–‡ä»¶æ ¼å¼
- ğŸ”„ **å®æ—¶æ›´æ–°**: æ”¯æŒæ–‡ä»¶é‡æ–°åŠ è½½
- ğŸ¨ **å‹å¥½ç•Œé¢**: ä¸°å¯Œçš„æ ·å¼å’Œäº¤äº’æ•ˆæœ

## å®‰è£…

### å‰ç½®è¦æ±‚

- Node.js 16.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm æˆ– yarn

### å®‰è£…æ­¥éª¤

1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/janyork/beancount-cli.git
cd beancount-cli
```

2. å®‰è£…ä¾èµ–

```bash
npm install
```

3. æ„å»ºé¡¹ç›®

```bash
npm run build
```

4. å…¨å±€å®‰è£…ï¼ˆå¯é€‰ï¼‰

```bash
npm install -g .
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
# ç›´æ¥è¿è¡Œ
npm start /path/to/your/beancount/file.beancount

# æˆ–è€…å…¨å±€å®‰è£…åä½¿ç”¨
beancount-cli /path/to/your/beancount/file.beancount
```

### å‘½ä»¤åˆ—è¡¨

æ‰€æœ‰å‘½ä»¤éƒ½æ”¯æŒ `/xxx` æ ¼å¼ï¼š

- `/help` - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
- `/add_transaction` - æ·»åŠ äº¤æ˜“è®°å½•
- `/list_transactions` - åˆ—å‡ºäº¤æ˜“è®°å½•
- `/show_balance` - æ˜¾ç¤ºè´¦æˆ·ä½™é¢
- `/show_networth` - æ˜¾ç¤ºå‡€èµ„äº§
- `/list_accounts` - åˆ—å‡ºæ‰€æœ‰è´¦æˆ·
- `/validate` - éªŒè¯beancountæ–‡ä»¶
- `/reload` - é‡æ–°åŠ è½½æ–‡ä»¶
- `/quit` - é€€å‡ºç¨‹åº

### å‘½ä»¤ç¤ºä¾‹

#### æ·»åŠ äº¤æ˜“è®°å½•

```bash
/add_transaction date=2024-01-01 narration="åˆé¤" postings=[{"account":"Expenses:Food","amount":25},{"account":"Assets:Cash","amount":-25}]
```

#### æŸ¥çœ‹äº¤æ˜“è®°å½•

```bash
/list_transactions start_date=2024-01-01 end_date=2024-01-31
```

#### æŸ¥çœ‹è´¦æˆ·ä½™é¢

```bash
/show_balance account="Assets:Cash" date=2024-01-01
```

## å¼€å‘

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ types/           # ç±»å‹å®šä¹‰
â”œâ”€â”€ engine/          # Beancountæ“ä½œå¼•æ“
â”œâ”€â”€ commands/        # å‘½ä»¤å¤„ç†æ¨¡å—
â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â””â”€â”€ cli.ts          # ä¸»å‘½ä»¤è¡Œç•Œé¢
```

### å¼€å‘å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼è¿è¡Œ
npm run dev

# è¿è¡Œæµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•ï¼ˆç›‘å¬æ¨¡å¼ï¼‰
npm run test:watch

# ä»£ç æ£€æŸ¥
npm run lint

# ä»£ç æ£€æŸ¥å¹¶è‡ªåŠ¨ä¿®å¤
npm run lint:fix

# æ¸…ç†æ„å»ºæ–‡ä»¶
npm run clean
```

### æµ‹è¯•è¦†ç›–ç‡

é¡¹ç›®è¦æ±‚100%çš„æµ‹è¯•è¦†ç›–ç‡ï¼ŒåŒ…æ‹¬ï¼š

- åˆ†æ”¯è¦†ç›–ç‡ (branches): 100%
- å‡½æ•°è¦†ç›–ç‡ (functions): 100%
- è¡Œè¦†ç›–ç‡ (lines): 100%
- è¯­å¥è¦†ç›–ç‡ (statements): 100%

## æŠ€æœ¯æ ˆ

- **è¯­è¨€**: TypeScript
- **è¿è¡Œæ—¶**: Node.js
- **æµ‹è¯•æ¡†æ¶**: Jest
- **å‘½ä»¤è¡Œ**: Commander.js
- **äº¤äº’**: Inquirer.js
- **æ ·å¼**: Chalk
- **æ„å»ºå·¥å…·**: TypeScript Compiler

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### å¼€å‘è§„èŒƒ

1. éµå¾ªTypeScriptä¸¥æ ¼æ¨¡å¼
2. æ‰€æœ‰å‡½æ•°å¿…é¡»æœ‰å®Œæ•´çš„JSDocæ³¨é‡Š
3. æ–°åŠŸèƒ½å¿…é¡»åŒ…å«å®Œæ•´çš„æµ‹è¯•
4. ä¿æŒ100%çš„æµ‹è¯•è¦†ç›–ç‡
5. éµå¾ªé¡¹ç›®çš„ä»£ç é£æ ¼

## è®¸å¯è¯

MIT License

## ä½œè€…

JanYork

## æ›´æ–°æ—¥å¿—

### v1.0.0

- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒåŸºæœ¬çš„beancountæ“ä½œ
- å®Œæ•´çš„å‘½ä»¤è¡Œç•Œé¢
- 100%æµ‹è¯•è¦†ç›–ç‡
